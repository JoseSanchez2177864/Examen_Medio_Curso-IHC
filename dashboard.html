<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GameLearn - Dashboard</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Quicksand:wght@400;500;600&display=swap"
    rel="stylesheet">

  <!-- CSS personalizado -->
  <link rel="stylesheet" href="dashboard.css" />
</head>

<body>
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark bg-opacity-75 fixed-top">
    <div class="container-fluid">
      <a class="navbar-brand" href="index.html">GameLearn</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item"><a class="nav-link" href="index.html">Inicio</a></li>
          <li class="nav-item"><a class="nav-link active" href="dashboard.html">Más Juegos</a></li>
          <li class="nav-item"><a class="nav-link" href="ranking.html">Tabla de Rankings</a></li>
          <li class="nav-item"><a class="nav-link" href="login.html">Login</a></li>
          <li class="nav-item"><a class="nav-link btn btn-outline-light ms-2" href="registro.html">Regístrate!</a></li>
        </ul>
      </div>
    </div>
  </nav>
  <br /><br /><BR /><br /><br />

  <main class="dashboard">

    <div class="container text-center">
      <h1 class="dashboard-title">Tus Asignaturas</h1>
      <p class="dashboard-subtitle">Selecciona una materia para comenzar a practicar</p>

      <div class="row justify-content-center g-4 mt-4">
        <div class="col-md-4 col-lg-3">
          <div class="dash-card main-card" id="quimica-card" style="position: relative; z-index: 2;">
            <i class="bi bi-thermometer-half" style="font-size:3rem; color:#ff006e;"></i>
            <h5>Química</h5>
          </div>
          <div class="subgames mt-3 d-flex flex-column" id="quimica-games" style="display: none;">
            <div class="dash-card sub-card" onclick="window.location.href='Juego_memorama.html'">
              <h6>Memorama Químico</h6>
            </div>
            <div class="dash-card sub-card" onclick="window.location.href='Juego_Nomenclatura.html'">
              <h6>Clasificación de Compuestos</h6>
            </div>
            <div class="dash-card sub-card" onclick="window.location.href='Juego_Telaraña.html'">
              <h6>Juego de Telaraña</h6>
            </div>
          </div>
        </div>

        <div class="col-md-4 col-lg-3">
          <div class="dash-card main-card" id="matematicas-card" style="position: relative; z-index:2;">
            <i class="bi bi-calculator" style="font-size:3rem; color:#007bff;"></i>
            <h5>Matemáticas</h5>
          </div>
          <div class="subgames mt-3 d-flex flex-column" id="matematicas-games" style="display: none;">
            <div class="dash-card sub-card" onclick="window.location.href='Juego_Graficas.html'">
              <h6>Identifica la Gráfica</h6>
            </div>
            <div class="dash-card sub-card" onclick="window.location.href='Juego_Funciones.html'">
              <h6>Identifica la Gráfica</h6>
            </div>
            <div class="dash-card sub-card" onclick="window.location.href='Juego_ML.html'">
              <h6>Laberinto Algebráico</h6>
            </div>
          </div>
        </div>

        <div class="col-md-4 col-lg-3">
          <div class="dash-card main-card" id="fisica-card" style="position: relative; z-index:2;">
            <i class="bi bi-lightning-charge" style="font-size:3rem; color:#ffc107;"></i>
            <h5>Física</h5>
          </div>
          <div class="subgames mt-3 d-flex flex-column" id="fisica-games" style="display: none;">
            <div class="dash-card sub-card" onclick="window.location.href='Juego_Unidades.html'">
              <h6>El Desafío de Unidades</h6>
            </div>
            <div class="dash-card sub-card" onclick="window.location.href='Juego_Unidades.html'">
              <h6>El Desafío de Unidades</h6>
            </div>
            <div class="dash-card sub-card" onclick="window.location.href='Juego_FQ.html'">
              <h6>Flappy Quiz</h6>
            </div>
          </div>
        </div>

        <div class="col-md-4 col-lg-3">
          <div class="dash-card main-card" id="historia-card" style="position: relative; z-index:2;">
            <i class="bi bi-book" style="font-size:3rem; color:#28a745;"></i>
            <h5>Historia</h5>
          </div>
          <div class="subgames mt-3 d-flex flex-column" id="historia-games" style="display: none;">
            <div class="dash-card sub-card" onclick="window.location.href='Juego_Hilo.html'">
              <h6>Acomoda el Evento Histórico</h6>
            </div>
            <div class="dash-card sub-card" onclick="window.location.href='Juego_Crononauta.html'">
              <h6>Crononauta</h6>
            </div>
            <div class="dash-card sub-card" onclick="window.location.href='Juego_Enigma.html'">
              <h6>Enigma Histórico</h6>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Función genérica para manejar el despliegue
    function toggleGames(cardId, gamesId) {
      const mainCard = document.getElementById(cardId);
      const gamesContainer = document.getElementById(gamesId);

      if (!mainCard || !gamesContainer) return; // Salir si no encuentra los elementos

      // 1. Ocultar todos los demás submenús
      document.querySelectorAll('.subgames').forEach(subgames => {
        if (subgames.id !== gamesId) {
          subgames.style.display = 'none';
          subgames.querySelectorAll('.sub-card').forEach(card => card.classList.remove('show'));
        }
      });

      // 2. Alternar la visibilidad del menú seleccionado
      if (gamesContainer.style.display === "none" || gamesContainer.style.display === "") {
        gamesContainer.style.display = "flex";

        // Agregar clase 'show' con retraso para animar
        const subcards = gamesContainer.querySelectorAll('.sub-card');
        subcards.forEach((card, index) => {
          // Pequeño retraso para una animación escalonada
          card.style.animationDelay = `${index * 0.15}s`;
          card.classList.add('show');
        });

      } else {
        // Ocultar subcards
        gamesContainer.querySelectorAll('.sub-card').forEach(card => card.classList.remove('show'));
        gamesContainer.style.display = "none";
      }
    }

    // Asignar el evento de clic a cada tarjeta principal
    document.getElementById('quimica-card').addEventListener('click', () => {
      toggleGames('quimica-card', 'quimica-games');
    });

    document.getElementById('matematicas-card').addEventListener('click', () => {
      toggleGames('matematicas-card', 'matematicas-games');
    });

    document.getElementById('fisica-card').addEventListener('click', () => {
      toggleGames('fisica-card', 'fisica-games');
    });

    document.getElementById('historia-card').addEventListener('click', () => {
      toggleGames('historia-card', 'historia-games');
    });
  </script>
</body>

</html>